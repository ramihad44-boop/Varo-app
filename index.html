<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VARO Testing Phase</title>
    <style>
        body { background: #000; color: #fff; font-family: sans-serif; padding: 20px; }
        .match-box { border: 1px solid #ffcc00; padding: 10px; margin-bottom: 10px; border-radius: 8px; }
        .loading { color: #ffcc00; font-weight: bold; }
        .error { color: #ff4444; }
    </style>
</head>
<body>

    <h1>Ù„ÙˆØ­Ø© ÙØ­Øµ Ø¨ÙŠØ§Ù†Ø§Øª VARO ğŸš€</h1>
    <div id="status">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ù…ØµØ¯Ø±...</div>
    <hr border="1">
    <div id="results"></div>

    <script>
        async function fetchData() {
            const status = document.getElementById('status');
            const results = document.getElementById('results');

            // Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù„ÙŠ ØµÙØ¯Ù†Ø§Ù‡ Ø¨Ù€ Reqable
            const target = "https://jdwel.com/today/";
            // Ø¨Ø±ÙˆÙƒØ³ÙŠ Ø³Ø±ÙŠØ¹ Ø¬Ø¯Ø§Ù‹ Ù„ØªØ¬Ø§ÙˆØ² Ø§Ù„Ø­Ù…Ø§ÙŠØ©
            const proxy = "https://api.allorigins.win/get?url=" + encodeURIComponent(target);

            try {
                const response = await fetch(proxy);
                const data = await response.json();
                
                // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†Øµ Ù„Ù€ HTML Ø¹Ø´Ø§Ù† Ù†Ø¹Ø±Ù Ù†Ù‚Ø±Ø£Ù‡
                const parser = new DOMParser();
                const doc = parser.parseFromString(data.contents, 'text/html');
                
                // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø¯Ø§Ø®Ù„ ÙƒÙ„Ø§Ø³Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹
                const matches = doc.querySelectorAll('.match-container');
                
                if (matches.length === 0) {
                    status.innerHTML = "âŒ ØªÙ… Ø§Ù„Ø§ØªØµØ§Ù„ Ù„ÙƒÙ† Ù„Ù… Ù†Ø¬Ø¯ Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø­Ø§Ù„ÙŠØ§Ù‹ (Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø§Ù„Ù…ÙˆÙ‚Ø¹ ØºÙŠØ± Ø§Ù„ÙƒÙ„Ø§Ø³Ø§Øª).";
                    return;
                }

                status.innerHTML = "âœ… ØªÙ… Ø¬Ù„Ø¨ " + matches.length + " Ù…Ø¨Ø§Ø±Ø§Ø© Ø¨Ù†Ø¬Ø§Ø­!";
                
                let html = '';
                matches.forEach(m => {
                    const home = m.querySelector('.home-team .team-name').innerText;
                    const away = m.querySelector('.away-team .team-name').innerText;
                    const time = m.querySelector('.match-time').innerText;
                    
                    html += `
                        <div class="match-box">
                            <strong>âš½ Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©:</strong> ${home} VS ${away} <br>
                            <strong>â° Ø§Ù„ÙˆÙ‚Øª:</strong> ${time}
                        </div>
                    `;
                });
                results.innerHTML = html;

            } catch (err) {
                status.innerHTML = "<div class='error'>âŒ ÙØ´Ù„ Ù†Ù‡Ø§Ø¦ÙŠ: " + err.message + "</div>";
            }
        }

        fetchData();
    </script>
</body>
</html>
